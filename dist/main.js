!function(){"use strict";class e{constructor(e,t,i,o,s,n){var r,a;a=()=>{this._owner_id!==this._userID&&this._trashButton.classList.add("element__trash-button_hidden")},(r="_checkIfTrashIconAllowed")in this?Object.defineProperty(this,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[r]=a,this._card=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._id=e._id,this._owner=e.owner,this._owner_id=e.owner._id,this._cardSelector=t,this._handleCardClick=i,this._handleLikeClick=o,this._handleDeleteIconClick=s,this._userID=n}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}_setEventListeners(){this._element.querySelector(".element__image").addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)})),this._favoriteButton.addEventListener("click",(e=>{this._handleLikeClick(this._card,this._checkIfLiked()).then((e=>{this.updateLikes(e.likes)}))})),this._trashButton.addEventListener("click",(()=>{this._handleDeleteIconClick(this)}))}removeCard(){this._element.remove(),this._element=null}getID(){return this._id}updateLikes(e){this._likes=e,this._renderLikes()}_checkIfLiked(){return this._likes.some((e=>e._id===this._userID))}_renderLikes(){this._checkIfLiked()?this._favoriteButton.classList.add("element__favorite-button_active"):this._favoriteButton.classList.remove("element__favorite-button_active"),this._likesCounter.textContent=this._likes.length}generateCard(){this._element=this._getTemplate(),this._favoriteButton=this._element.querySelector("#favorite-button"),this._trashButton=this._element.querySelector(".element__trash-button"),this._likesCounter=this._element.querySelector(".element__likes-counter"),this._renderLikes(),this._checkIfTrashIconAllowed(),this._setEventListeners(),this._elementTitle=this._element.querySelector(".element__title"),this._elementTitle.textContent=this._name;const e=this._element.querySelector(".element__image");return e.alt="Photo of ".concat(this._name),e.src=this._link,this._element}}class t{constructor(e,t){let{items:i,renderer:o}=e;this._items=i,this._renderer=o,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{const t=this._renderer(e);this._container.append(t)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o{constructor(e){i(this,"closePopupOnRemoteClick",(e=>{e.target===e.currentTarget&&this.close()})),i(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),this._popup=document.querySelector(e)}open(){this._popup.classList.add("modal_opened"),this._popup.addEventListener("mousedown",this.closePopupOnRemoteClick),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("modal_opened"),this._popup.removeEventListener("mousedown",this.closePopupOnRemoteClick),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.querySelector(".modal__close-button").addEventListener("click",(()=>{this.close()}))}}class s extends o{constructor(e,t,i){super(e),this._popupForm=this._popup.querySelector(".modal__form"),this._inputList=Array.from(this._popupForm.querySelectorAll(".form__input")),this._submitButton=this._popup.querySelector(".form__submit-button"),this._buttonText=this._submitButton.textContent,this._loadingButtonText=i,this._callback=t}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}showLoading(){this._submitButton.textContent=this._loadingButtonText}hideLoading(){this._submitButton.textContent=this._buttonText}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._callback(this._getInputValues())}))}close(){super.close(),setTimeout((()=>{this._popupForm.reset()}),500)}}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{constructor(e,t){n(this,"_showInputError",((e,t)=>{t.textContent=e.validationMessage,t.classList.add(this._validationConfig.activeInputErrorClass),e.validity.valid||1!=e.value.length||e.validity.typeMismatch?e.validity.valid||(t.classList.add(this._validationConfig.errorClassSingleLine),e.classList.add(this._validationConfig.inputErrorClass)):(t.classList.add(this._validationConfig.errorClassDoubleLine),e.classList.add(this._validationConfig.inputErrorClass))})),n(this,"_hideInputError",((e,t)=>{e.classList.remove(this._validationConfig.inputErrorClass),t.classList.remove(this._validationConfig.activeInputErrorClass),t.classList.remove(this._validationConfig.errorClassSingleLine),t.classList.remove(this._validationConfig.errorClassDoubleLine)})),n(this,"_toggleInputError",((e,t)=>{this._hasInvalidInput?this._showInputError(e,t):this._hideInputError(e,t)})),n(this,"toggleButtonState",(()=>{this._hasInvalidInput()?(this._buttonElement.classList.add(this._validationConfig.inactiveButtonClass),this._buttonElement.setAttribute("disabled","true")):(this._buttonElement.classList.remove(this._validationConfig.inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))})),n(this,"_setEventListeners",(()=>{this.toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{const t=this._form.querySelector("#".concat(e.id,"-input-error"));this._hideInputError(e,t),this._toggleInputError(e,t),this.toggleButtonState()}))}))})),n(this,"_hasInvalidInput",(()=>this._inputList.some((e=>!e.validity.valid)))),this._validationConfig=e,this._form=t,this._buttonElement=this._form.querySelector(this._validationConfig.submitButtonSelector),this._inputList=Array.from(this._form.querySelectorAll(this._validationConfig.inputSelector))}resetValidation(){this._inputList.forEach((e=>{const t=this._form.querySelector("#".concat(e.id,"-input-error"));this._hideInputError(e,t)}))}enableValidation(){this._setEventListeners()}}document.querySelector(".modal_type_profile");const a=document.querySelector("#edit-button"),l=(document.querySelector(".modal__close-button_type_profile"),document.querySelector(".profile__info-name-text"),document.querySelector(".profile__info-bio"),document.querySelector("#name"),document.querySelector("#about-me"),document.querySelector(".modal__form_type_profile")),c=(document.querySelector(".modal_type_card"),document.querySelector(".modal__close-button_type_card"),document.querySelector(".modal__form_type_card")),u=(document.querySelector("#title"),document.querySelector("#image-link"),document.querySelector(".profile__add-button")),_=(document.querySelector(".elements"),document.querySelector(".modal_type_image")),h=(document.querySelector(".modal__image"),document.querySelector(".modal__title_type_image"),_.querySelector("#image-close"),document.querySelector(".profile__avatar"),document.querySelector(".profile__edit-image"),document.querySelector(".modal__form_type_profile-image")),d=document.querySelector(".profile__overlay"),m=document.querySelector(".profile__edit-image"),p={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit-button",inactiveButtonClass:"form__submit-button_inactive",activeInputErrorClass:"form__input-error_active",inputErrorClass:"form__input_type_error",errorClassSingleLine:"form__input-error_type_single-line",errorClassDoubleLine:"form__input-error_type_double-line"},f=new class{constructor(e){this._url=e.baseUrl,this._headers=e.headers}_handleServerResponse(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}getWebpageInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getUserInfo(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleServerResponse)}getInitialCards(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then((e=>this._handleServerResponse(e)))}editProfileInfo(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((e=>this._handleServerResponse(e)))}addNewCard(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((e=>this._handleServerResponse(e)))}editProfileImage(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>this._handleServerResponse(e)))}deleteCard(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((e=>this._handleServerResponse(e)))}changeLikeCardStatus(e,t){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:t?"DELETE":"PUT",headers:this._headers}).then((e=>this._handleServerResponse(e)))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"655a1e50-e6e9-4121-944b-aac1807b3df3","Content-Type":"application/json"}}),v=new s(".modal_type_profile",(function(e){v.showLoading(),f.editProfileInfo(e).then((e=>{L.setUserInfo(e),v.close()})).catch((e=>{console.log(e)})).finally((()=>{v.hideLoading()}))}),"Saving..."),g=new s(".modal_type_card",(function(e){g.showLoading(),f.addNewCard(e).then((e=>{C.addItem(e),g.close()})).catch((e=>{console.log(e)})).finally((()=>{g.hideLoading()}))}),"Creating..."),y=new class extends o{constructor(e){super(e),this._imageModalTitle=this._popup.querySelector(".modal__title_type_image"),this._imageModalImage=this._popup.querySelector(".modal__image")}open(e,t){super.open(),this._imageModalImage.src=t,this._imageModalImage.alt="Photo of ".concat(e),this._imageModalTitle.textContent=e}}(".modal_type_image"),b=new class extends o{constructor(e,t){super(),this._popup=document.querySelector(e),this._submitButton=this._popup.querySelector("#verify-save"),this._buttonText=this._submitButton.textContent,this._loadingButtonText=t}addSubmitAction(e){this._handleSubmitCallback=e}showLoading(){this._submitButton.textContent=this._loadingButtonText}hideLoading(){this._submitButton.textContent=this._buttonText}setEventListeners(){super.setEventListeners(),this._submitButton.addEventListener("click",(e=>{e.preventDefault(),this._handleSubmitCallback()}))}}(".modal_type_verify","Removing..."),S=new s(".modal_type_profile-image",(function(e){S.showLoading(),f.editProfileImage(e.link).then((e=>{console.log(e),L.setAvatar(e),S.close()})).catch((e=>{console.log(e)})).finally((()=>{S.hideLoading()}))}),"Saving..."),L=new class{constructor(e){this._profileName=document.querySelector(e.name),this._profileBio=document.querySelector(e.about),this._profileAvatar=document.querySelector(e.avatar)}getUserInfo(){return{name:this._profileName.textContent,about:this._profileBio.textContent}}getAvatar(){return{link:this._profileAvatar.src}}setUserInfo(e){this._profileName.textContent=e.name,this._profileBio.textContent=e.about}setAvatar(e){this._profileAvatar.src=e.avatar}}({name:".profile__info-name-text",about:".profile__info-bio",avatar:".profile__avatar"});let C;f.getWebpageInfo().then((i=>{let[o,s]=i;L.setUserInfo(s),L.setAvatar(s),C=new t({items:o,renderer:t=>function(t,i){return new e(t,"#element-template",E,q,w,i).generateCard()}(t,s._id)},".elements"),C.renderItems()})).catch((e=>{console.log(e)}));const E=(e,t)=>{y.open(e,t)};function k(){const e=L.getAvatar();S.setInputValues(e),T.resetValidation(),T.toggleButtonState(),S.open()}const I=e=>{const t=new r(p,e);return t.enableValidation(),t};function q(e,t){return f.changeLikeCardStatus(e._id,t).catch((e=>{console.log(e)}))}function w(e){b.open(),b.addSubmitAction((()=>{b.showLoading(),f.deleteCard(e.getID()).then((()=>{e.removeCard(),b.close()})).catch((e=>{console.log(e)})).finally((()=>{b.hideLoading()}))})),b.setEventListeners()}a.addEventListener("click",(function(){const e=L.getUserInfo();v.setInputValues(e),x.resetValidation(),x.toggleButtonState(),v.open()})),u.addEventListener("click",(function(){B.resetValidation(),B.toggleButtonState(),g.open()})),d.addEventListener("click",(function(){k()})),m.addEventListener("click",(function(){k()})),v.setEventListeners(),g.setEventListeners(),y.setEventListeners(),S.setEventListeners();const B=I(c),x=I(l),T=I(h)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWlCN0csaUJBQWlCLFNBQVMsV0FDekM0SyxHQUNELElBT0QzQixFQUFhaEcsb0JBQ2J5RyxFQUFVekcsb0JBQ1Y0RyxFQUFXNUcsb0JBQ1hrSCxFQUFrQmxILG9CQUdsQixNQUFNaUksRUFBdUJKLEVBQWdCdEUsR0FDdkN5RSxFQUEyQkgsRUFBZ0J2RSxHQUMzQ3NFLEVBQXNCQyxFQUFnQm5FLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybUNsaWNrLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUljb25DbGljayxcbiAgICB1c2VySURcbiAgKSB7XG4gICAgdGhpcy5fY2FyZCA9IGRhdGE7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lcjtcbiAgICB0aGlzLl9vd25lcl9pZCA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUljb25DbGljayA9IGhhbmRsZURlbGV0ZUljb25DbGljaztcbiAgICB0aGlzLl91c2VySUQgPSB1c2VySUQ7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgLy8gICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWxlbWVudC10ZW1wbGF0ZVwiKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gaW1hZ2UgZm9yIG9wZW5pbmcgSW1hZ2VNb2RhbCBpZiBjbGlja2VkXG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xuICAgIGltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIHRvIGZhdm9yaXRlIGJ1dHRvblxuICAgIHRoaXMuX2Zhdm9yaXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcy5fY2FyZCwgdGhpcy5fY2hlY2tJZkxpa2VkKCkpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byB0cmFzaCBidXR0b25cbiAgICB0aGlzLl90cmFzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlSWNvbkNsaWNrKHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgZ2V0SUQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG5cbiAgX2NoZWNrSWZUcmFzaEljb25BbGxvd2VkID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9vd25lcl9pZCAhPT0gdGhpcy5fdXNlcklEKSB7XG4gICAgICB0aGlzLl90cmFzaEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fdHJhc2gtYnV0dG9uX2hpZGRlblwiKTtcbiAgICB9XG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdXBkYXRlTGlrZXMobGlrZXMpIHtcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XG4gIH1cblxuICBfY2hlY2tJZkxpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKCh1c2VyKSA9PiB1c2VyLl9pZCA9PT0gdGhpcy5fdXNlcklEKTtcbiAgfVxuXG4gIF9yZW5kZXJMaWtlcygpIHtcbiAgICAvLyBzZXQgbGlrZXMgY3VudGVyIGNvbnRlbnQgdXNpbmcgdGhpcy5fbGlrZXMubGVuZ3RoXG4gICAgaWYgKHRoaXMuX2NoZWNrSWZMaWtlZCgpKSB7XG4gICAgICAvLyBhZGQgYWN0aXZlIGNsYXNzIHRvIGxpa2UgYnV0dG9uXG4gICAgICB0aGlzLl9mYXZvcml0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fZmF2b3JpdGUtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGxpa2UgYnV0dG9uXG4gICAgICB0aGlzLl9mYXZvcml0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudF9fZmF2b3JpdGUtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICB9XG5cbiAgLy8gQ3JlYXRlIG5ldyBjYXJkIGVsZW1lbnRcbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2Zhdm9yaXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zhdm9yaXRlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl90cmFzaEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190cmFzaC1idXR0b25cIik7XG4gICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VzLWNvdW50ZXJcIik7XG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgICB0aGlzLl9jaGVja0lmVHJhc2hJY29uQWxsb3dlZCgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50VGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGl0bGVcIik7XG4gICAgdGhpcy5fZWxlbWVudFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XG4gICAgaW1hZ2VFbGVtZW50LmFsdCA9IGBQaG90byBvZiAke3RoaXMuX25hbWV9YDtcbiAgICBpbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGNhcmQpO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgY29uc3QgbmV3Q2FyZCA9IHRoaXMuX3JlbmRlcmVyKGVsZW1lbnQpO1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKG5ld0NhcmQpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICAvLyBDbG9zZSBtb2RhbCB3aW5kb3cgYnkgY2xpY2tpbmcgb24gb3ZlcmxheVxuICBjbG9zZVBvcHVwT25SZW1vdGVDbGljayA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTWV0aG9kIGZvciBjbG9zaW5nIHBvcHVwIGJ5IHByZXNzaW5nIEVzYyBrZXlcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIE9wZW4gcG9wdXBcbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5jbG9zZVBvcHVwT25SZW1vdGVDbGljayk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgLy8gQ2xvc2UgcG9wdXBcbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuY2xvc2VQb3B1cE9uUmVtb3RlQ2xpY2spO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIC8vIFNldCBFdmVudExpc3RlbmVyc1xuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgY2FsbGJhY2ssIGxvYWRpbmdCdXR0b25UZXh0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIilcbiAgICApO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fc3VibWl0LWJ1dHRvblwiKTtcbiAgICB0aGlzLl9idXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICAgIHRoaXMuX2xvYWRpbmdCdXR0b25UZXh0ID0gbG9hZGluZ0J1dHRvblRleHQ7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3dMb2FkaW5nKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2xvYWRpbmdCdXR0b25UZXh0O1xuICB9XG5cbiAgaGlkZUxvYWRpbmcoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fYnV0dG9uVGV4dDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9jYWxsYmFjayh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICAgIH0sIDUwMCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtKSB7XG4gICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZyA9IHZhbGlkYXRpb25Db25maWc7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byBzaG93IGlucHV0IGVycm9yXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGZvcm1FcnJvcikgPT4ge1xuICAgIGZvcm1FcnJvci50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBmb3JtRXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmFjdGl2ZUlucHV0RXJyb3JDbGFzcyk7XG4gICAgaWYgKFxuICAgICAgIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCAmJlxuICAgICAgaW5wdXRFbGVtZW50LnZhbHVlLmxlbmd0aCA9PSAxICYmXG4gICAgICAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnR5cGVNaXNtYXRjaFxuICAgICkge1xuICAgICAgZm9ybUVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzRG91YmxlTGluZSk7XG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgfSBlbHNlIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICBmb3JtRXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3NTaW5nbGVMaW5lKTtcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gaGlkZSBpbnB1dCBlcnJvclxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBmb3JtRXJyb3IpID0+IHtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZm9ybUVycm9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5hY3RpdmVJbnB1dEVycm9yQ2xhc3MpO1xuICAgIGZvcm1FcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzc1NpbmdsZUxpbmUpO1xuICAgIGZvcm1FcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzc0RvdWJsZUxpbmUpO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHJlc2V0IGZvcm0gdmFsaWRhdGlvblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgZm9ybUVycm9yID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1pbnB1dC1lcnJvcmBcbiAgICAgICk7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGZvcm1FcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byB0b2dnbGUgdGhlIGlucHV0IGVycm9ycyBiYXNlZCBvbiB2YWxpZGl0eVxuICBfdG9nZ2xlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGZvcm1FcnJvcikgPT4ge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZm9ybUVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBmb3JtRXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byB0b2dnbGUgU3VibWl0IGJ1dHRvbiBzdGF0ZSAoZGlzYWJsZWQgb3Igbm90KVxuICB0b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzXG4gICAgICApO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzXG4gICAgICApO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gaW5pdGlhbGx5IHNldCBhbGwgZm9ybSBhbmQgZWxlbWVudCBzdGF0ZXMgdG8gdGhlIGNvcnJlY3QgZGlzcGxheSwgYXMgd2VsbCBhc1xuICAvLyBzZXQgZXZlbnQgbGlzdGVuZXJzIG9uIGVhY2ggaW5wdXQgdG8gcnVuIHZhbGlkYXRpb24gdXBvbiBuZXcgaW5wdXQuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1FcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1pbnB1dC1lcnJvcmBcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBmb3JtRXJyb3IpO1xuICAgICAgICB0aGlzLl90b2dnbGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZm9ybUVycm9yKTtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgYWxsIGlucHV0IHZhbHVlcyBhcmUgdmFsaWRcbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCIvL0luaXRpYWxpemUgdmFyaWFibGVzIGZvciBtb2RhbCB3aW5kb3dcblxuLy8gUHJvZmlsZSBNb2RhbCB3aW5kb3dcbmNvbnN0IHByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9wcm9maWxlXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZU1vZGFsQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGVfcHJvZmlsZVwiXG4pO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2luZm8tbmFtZS10ZXh0XCIpO1xuY29uc3QgcHJvZmlsZUFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbmZvLWJpb1wiKTtcbmNvbnN0IGZvcm1OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lXCIpO1xuY29uc3QgZm9ybURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhYm91dC1tZVwiKTtcbmNvbnN0IGVkaXRQcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1fdHlwZV9wcm9maWxlXCIpO1xuXG4vLyBDYXJkIE1vZGFsIHdpbmRvd1xuY29uc3QgbmV3Q2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2NhcmRcIik7XG5jb25zdCBuZXdDYXJkTW9kYWxDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLm1vZGFsX19jbG9zZS1idXR0b25fdHlwZV9jYXJkXCJcbik7XG5jb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1fdHlwZV9jYXJkXCIpO1xuY29uc3QgY2FyZFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKTtcbmNvbnN0IGNhcmRJbWFnZUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLWxpbmtcIik7XG5jb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcblxuLy8gSW1hZ2UgTW9kYWwgd2luZG93XG5jb25zdCBpbWFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2ltYWdlXCIpO1xuY29uc3QgaW1hZ2VNb2RhbEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG5jb25zdCBpbWFnZU1vZGFsVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX190aXRsZV90eXBlX2ltYWdlXCIpO1xuY29uc3QgaW1hZ2VNb2RhbENsb3NlQnV0dG9uID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLWNsb3NlXCIpO1xuXG4vLyBQcm9maWxlIGltYWdlIGNvbnN0YW50c1xuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRQZW5jaWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtaW1hZ2VcIik7XG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybV90eXBlX3Byb2ZpbGUtaW1hZ2VcIik7XG5jb25zdCBwcm9maWxlSW1hZ2VPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19vdmVybGF5XCIpO1xuY29uc3QgcHJvZmlsZUVkaXRJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1pbWFnZVwiKTtcblxuLy8gSW5pdGlhbGl6aW5nIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdmFsaWRhdGlvblxuXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX3N1Ym1pdC1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19zdWJtaXQtYnV0dG9uX2luYWN0aXZlXCIsXG4gIGFjdGl2ZUlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzc1NpbmdsZUxpbmU6IFwiZm9ybV9faW5wdXQtZXJyb3JfdHlwZV9zaW5nbGUtbGluZVwiLFxuICBlcnJvckNsYXNzRG91YmxlTGluZTogXCJmb3JtX19pbnB1dC1lcnJvcl90eXBlX2RvdWJsZS1saW5lXCIsXG59O1xuXG5leHBvcnQge1xuICBwcm9maWxlTW9kYWwsXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxuICBwcm9maWxlTW9kYWxDbG9zZUJ1dHRvbixcbiAgcHJvZmlsZU5hbWUsXG4gIHByb2ZpbGVBYm91dCxcbiAgcHJvZmlsZUF2YXRhcixcbiAgcHJvZmlsZUltYWdlT3ZlcmxheSxcbiAgcHJvZmlsZUVkaXRJbWFnZSxcbiAgcHJvZmlsZUVkaXRQZW5jaWwsXG4gIGZvcm1OYW1lLFxuICBmb3JtRGVzY3JpcHRpb24sXG4gIGVkaXRQcm9maWxlRm9ybSxcbiAgbmV3Q2FyZE1vZGFsLFxuICBuZXdDYXJkTW9kYWxDbG9zZUJ1dHRvbixcbiAgYWRkQ2FyZEZvcm0sXG4gIGF2YXRhckZvcm0sXG4gIGNhcmRUaXRsZSxcbiAgY2FyZEltYWdlTGluayxcbiAgYWRkQ2FyZEJ1dHRvbixcbiAgY2FyZHNMaXN0LFxuICBpbWFnZU1vZGFsLFxuICBpbWFnZU1vZGFsSW1hZ2UsXG4gIGltYWdlTW9kYWxUaXRsZSxcbiAgaW1hZ2VNb2RhbENsb3NlQnV0dG9uLFxuICB2YWxpZGF0aW9uQ29uZmlnLFxufTtcbiIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEltcG9ydCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLyBpbXBvcnQgbWFpbiBjc3Mgc3R5bGVzaGVldFxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcblxuLy8gaW1wb3J0IGNsYXNzZXMgZnJvbSByZXNwZWN0aXZlIEpTIGZpbGVzXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm1DbGljayBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm1DbGljay5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm9cIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG4vLyBpbXBvcnQgY29uc3RhbnRzIGZyb20gdXRpbHMvY29uc3RhbnRzLmpzXG5pbXBvcnQge1xuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgcHJvZmlsZUltYWdlT3ZlcmxheSxcbiAgcHJvZmlsZUVkaXRJbWFnZSxcbiAgYWRkQ2FyZEZvcm0sXG4gIGVkaXRQcm9maWxlRm9ybSxcbiAgYXZhdGFyRm9ybSxcbiAgYWRkQ2FyZEJ1dHRvbixcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gSU5JVElBTElaRSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjY1NWExZTUwLWU2ZTktNDEyMS05NDRiLWFhYzE4MDdiM2RmM1wiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vIEluaXRpYWxpemUgaW5zdGFuY2VzIG9mIHRoZSBQb3B1cCBjbGFzc2VzIGZvciBlYWNoIG1vZGFsIHdpbmRvd1xuY29uc3QgbW9kYWxQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLm1vZGFsX3R5cGVfcHJvZmlsZVwiLFxuICBzdWJtaXRQcm9maWxlLFxuICBcIlNhdmluZy4uLlwiXG4pO1xuY29uc3QgbW9kYWxDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLm1vZGFsX3R5cGVfY2FyZFwiLFxuICBzdWJtaXRDYXJkLFxuICBcIkNyZWF0aW5nLi4uXCJcbik7XG5jb25zdCBtb2RhbEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLm1vZGFsX3R5cGVfaW1hZ2VcIik7XG5jb25zdCBtb2RhbFZlcmlmeSA9IG5ldyBQb3B1cFdpdGhGb3JtQ2xpY2soXCIubW9kYWxfdHlwZV92ZXJpZnlcIiwgXCJSZW1vdmluZy4uLlwiKTtcbmNvbnN0IG1vZGFsUHJvZmlsZUltYWdlID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLm1vZGFsX3R5cGVfcHJvZmlsZS1pbWFnZVwiLFxuICBzdWJtaXRQcm9maWxlSW1hZ2UsXG4gIFwiU2F2aW5nLi4uXCJcbik7XG5cbi8vIEluaXRpYWxpemUgYW4gaW5zdGFuY2Ugb2YgdGhlIFVzZXJJbmZvIGNsYXNzXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWU6IFwiLnByb2ZpbGVfX2luZm8tbmFtZS10ZXh0XCIsXG4gIGFib3V0OiBcIi5wcm9maWxlX19pbmZvLWJpb1wiLFxuICBhdmF0YXI6IFwiLnByb2ZpbGVfX2F2YXRhclwiLFxufSk7XG5cbmxldCBjYXJkTGlzdDtcblxuYXBpXG4gIC5nZXRXZWJwYWdlSW5mbygpXG4gIC50aGVuKChbaW5pdGlhbENhcmRzLCB1c2VyRGF0YV0pID0+IHtcbiAgICAvL3NldCB1c2VyIGluZm9cbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gICAgdXNlckluZm8uc2V0QXZhdGFyKHVzZXJEYXRhKTtcblxuICAgIGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gICAgICB7XG4gICAgICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVDYXJkKGl0ZW0sIHVzZXJEYXRhLl9pZCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgXCIuZWxlbWVudHNcIlxuICAgICk7XG5cbiAgICAvLyBSZW5kZXIgaXRlbXNcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycik7XG4gIH0pO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEZVTkNUSU9OUyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLyBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBjYXJkIHRpbGUgZm9yIGEgbmV3IGxvY2F0aW9uXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0sIHVzZXJJRCkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgaXRlbSxcbiAgICBcIiNlbGVtZW50LXRlbXBsYXRlXCIsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVJY29uQ2xpY2ssXG4gICAgdXNlcklEXG4gICk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG4vLyBoYW5kbGVDYXJkQ2xpY2sgZnVuY3Rpb24gdG8gcGFzcyB0byBDYXJkIGZvciBtb2RhbEltYWdlXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAobmFtZSwgbGluaykgPT4ge1xuICBtb2RhbEltYWdlLm9wZW4obmFtZSwgbGluayk7XG59O1xuXG4vLyBjYWxsYmFjayBmdW5jdGlvbiBmb3IgbW9kYWxQcm9maWxlIHdoZW4gZm9ybSBpcyBzdWJtaXR0ZWQgdG8gc3VibWl0IHVzZXIgaW5mb1xuZnVuY3Rpb24gc3VibWl0UHJvZmlsZShwcm9maWxlVmFsdWVzKSB7XG4gIG1vZGFsUHJvZmlsZS5zaG93TG9hZGluZygpO1xuICAvLyBVcGRhdGluZyBwcm9maWxlIHVzZXIgaW5mb1xuICBhcGlcbiAgICAuZWRpdFByb2ZpbGVJbmZvKHByb2ZpbGVWYWx1ZXMpXG4gICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gICAgICBtb2RhbFByb2ZpbGUuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgbW9kYWxQcm9maWxlLmhpZGVMb2FkaW5nKCk7XG4gICAgfSk7XG59XG5cbi8vIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBtb2RhbENhcmQgd2hlbiBmb3JtIGlzIHN1Ym1pdHRlZFxuZnVuY3Rpb24gc3VibWl0Q2FyZChjYXJkVmFsdWVzKSB7XG4gIG1vZGFsQ2FyZC5zaG93TG9hZGluZygpO1xuICAvLyBBZGRpbmcgYSBuZXcgY2FyZFxuICBhcGlcbiAgICAuYWRkTmV3Q2FyZChjYXJkVmFsdWVzKVxuICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRGF0YSk7XG4gICAgICBtb2RhbENhcmQuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgbW9kYWxDYXJkLmhpZGVMb2FkaW5nKCk7XG4gICAgfSk7XG59XG5cbi8vIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBtb2RhbFByb2ZpbGVJbWFnZSB3aGVuIGZvcm0gaXMgc3VibWl0dGVkIHRvIGVkaXQgcHJvZmlsZSBpbWFnZVxuZnVuY3Rpb24gc3VibWl0UHJvZmlsZUltYWdlKGltYWdlTGluaykge1xuICBtb2RhbFByb2ZpbGVJbWFnZS5zaG93TG9hZGluZygpO1xuICAvLyBVcGRhdGluZyBwcm9maWxlIHVzZXIgaW5mb1xuICBhcGlcbiAgICAuZWRpdFByb2ZpbGVJbWFnZShpbWFnZUxpbmsubGluaylcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgdXNlckluZm8uc2V0QXZhdGFyKHJlcyk7XG4gICAgICBtb2RhbFByb2ZpbGVJbWFnZS5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBtb2RhbFByb2ZpbGVJbWFnZS5oaWRlTG9hZGluZygpO1xuICAgIH0pO1xufVxuXG4vLyBGdW5jdGlvbiBmb3Igb3BlbmluZyBtb2RhbFByb2ZpbGVJbWFnZSB3aW5kb3cgdG8gZWRpdCBwcm9maWxlIHBpY3R1cmVcbmZ1bmN0aW9uIG9wZW5Qcm9maWxlSW1hZ2VNb2RhbCgpIHtcbiAgY29uc3QgaW1hZ2VMaW5rID0gdXNlckluZm8uZ2V0QXZhdGFyKCk7XG4gIG1vZGFsUHJvZmlsZUltYWdlLnNldElucHV0VmFsdWVzKGltYWdlTGluayk7XG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGF2YXRhckZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgbW9kYWxQcm9maWxlSW1hZ2Uub3BlbigpO1xufVxuXG4vLyBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgdmFsaWRhdG9yc1xuY29uc3QgY3JlYXRlVmFsaWRhdG9yID0gKGZvcm0pID0+IHtcbiAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybSk7XG4gIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbiAgcmV0dXJuIHZhbGlkYXRvcjtcbn07XG5cbi8vIGZ1bmN0aW9uIHRvIGhhbmRsZSBjbGlja2luZyBvZiB0aGUgZmF2b3JpdGUvbGlrZSBidXR0b25cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkLCBsaWtlKSB7XG4gIHJldHVybiBhcGkuY2hhbmdlTGlrZUNhcmRTdGF0dXMoY2FyZC5faWQsIGxpa2UpLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcbn1cblxuLy8gZnVuY3Rpb24gZm9yIGRlbGV0aW5nL3JlbW92aW5nIGNhcmRcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUljb25DbGljayhjYXJkKSB7XG4gIG1vZGFsVmVyaWZ5Lm9wZW4oKTtcbiAgbW9kYWxWZXJpZnkuYWRkU3VibWl0QWN0aW9uKCgpID0+IHtcbiAgICBtb2RhbFZlcmlmeS5zaG93TG9hZGluZygpO1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5nZXRJRCgpKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLnJlbW92ZUNhcmQoKTtcbiAgICAgICAgbW9kYWxWZXJpZnkuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgbW9kYWxWZXJpZnkuaGlkZUxvYWRpbmcoKTtcbiAgICAgIH0pO1xuICB9KTtcbiAgbW9kYWxWZXJpZnkuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBFVkVOVExJU1RFTkVSUyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIHNldCBldmVudGxpc3RlbmVyIGZvciBvcGVuaW5nIHRoZSBtb2RhbFByb2ZpbGUgd2luZG93IHdoZW4gdGhlIGVkaXQgYnV0dG9uIGlzIGNsaWNrZWRcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHVzZXJWYWx1ZXMgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBtb2RhbFByb2ZpbGUuc2V0SW5wdXRWYWx1ZXModXNlclZhbHVlcyk7XG4gIGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIG1vZGFsUHJvZmlsZS5vcGVuKCk7XG59KTtcblxuLy8gc2V0IGV2ZW50bGlzdGVuZXIgZm9yIG5ldyBtb2RhbENhcmQgd2luZG93IHdoZW4gdGhlIHBsdXMgKGFkZCBuZXcgY2FyZCkgYnV0dG9uIGlzIGNsaWNrZWRcbmFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGFkZENhcmRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIG1vZGFsQ2FyZC5vcGVuKCk7XG59KTtcblxuLy8gYWRkIGV2ZW50bGlzdGVuZXIgdG8gb3BlbiBwcm9maWxlIGltYWdlIG1vZGFsXG5wcm9maWxlSW1hZ2VPdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIG9wZW5Qcm9maWxlSW1hZ2VNb2RhbCgpO1xufSk7XG5cbi8vIGFkZCBldmVudGxpc3RlbmVyIHRvIG9wZW4gcHJvZmlsZSBpbWFnZSBtb2RhbFxucHJvZmlsZUVkaXRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBvcGVuUHJvZmlsZUltYWdlTW9kYWwoKTtcbn0pO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFBST0dSQU0gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gUnVuIHRoZSAnc2V0RXZlbnRMSXN0ZW5lcnMnIG1ldGhvZCBmb3IgZWFjaCBtb2RhbCB3aW5kb3dcbm1vZGFsUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xubW9kYWxDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5tb2RhbEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5tb2RhbFByb2ZpbGVJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBJbml0aWFsaXplIHZhbGlkYXRvcnNcbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gY3JlYXRlVmFsaWRhdG9yKGFkZENhcmRGb3JtKTtcbmNvbnN0IGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciA9IGNyZWF0ZVZhbGlkYXRvcihlZGl0UHJvZmlsZUZvcm0pO1xuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IGNyZWF0ZVZhbGlkYXRvcihhdmF0YXJGb3JtKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLl91cmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpIHtcbiAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0V2VicGFnZUluZm8oKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldFVzZXJJbmZvKCldKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgICAvLyBzbyB0aGUgYWJvdmUgbGlpbmUgd2lsbCBhdXRvbWF0aWNhbGx5IHNlbmQgdGhlIHJlc3BvbnNlIHRvIHRoZSBfaGFuZGxlU2VydmVyUmVzcG9uc2UgZnVuY3Rpb24/XG4gICAgLy8gc2ltaWxpYXIgdG8gc2VuZGluZyBldnQgdG8gYSBldmVudGxpc3RlbmVyIGNhbGxiYWNrP1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKHJlcykpO1xuICB9XG5cbiAgZWRpdFByb2ZpbGVJbmZvKHByb2ZpbGVWYWx1ZXMpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogcHJvZmlsZVZhbHVlcy5uYW1lLFxuICAgICAgICBhYm91dDogcHJvZmlsZVZhbHVlcy5hYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBhZGROZXdDYXJkKGNhcmRWYWx1ZXMpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBjYXJkVmFsdWVzLm5hbWUsXG4gICAgICAgIGxpbms6IGNhcmRWYWx1ZXMubGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBlZGl0UHJvZmlsZUltYWdlKGF2YXRhckxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyTGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJRCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElEfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIGNoYW5nZUxpa2VDYXJkU3RhdHVzKGNhcmRJRCwgbGlrZSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElEfWAsIHtcbiAgICAgIG1ldGhvZDogIWxpa2UgPyBcIlBVVFwiIDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2VNb2RhbFRpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX190aXRsZV90eXBlX2ltYWdlXCJcbiAgICApO1xuICAgIHRoaXMuX2ltYWdlTW9kYWxJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuICB9XG5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIC8vQWRkIGFuIGltYWdlIHRvIHRoZSBwb3B1cCBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgaW1hZ2Ugc3JjIGF0dHJpYnV0ZSBhbG9uZyB3aXRoIGEgY2FwdGlvbiBmb3IgdGhlIGltYWdlXG4gICAgdGhpcy5faW1hZ2VNb2RhbEltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2VNb2RhbEltYWdlLmFsdCA9IGBQaG90byBvZiAke25hbWV9YDtcbiAgICB0aGlzLl9pbWFnZU1vZGFsVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybUNsaWNrIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBsb2FkaW5nQnV0dG9uVGV4dCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIjdmVyaWZ5LXNhdmVcIik7XG4gICAgdGhpcy5fYnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICB0aGlzLl9sb2FkaW5nQnV0dG9uVGV4dCA9IGxvYWRpbmdCdXR0b25UZXh0O1xuICB9XG5cbiAgYWRkU3VibWl0QWN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIHNob3dMb2FkaW5nKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2xvYWRpbmdCdXR0b25UZXh0O1xuICB9XG5cbiAgaGlkZUxvYWRpbmcoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fYnV0dG9uVGV4dDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdENhbGxiYWNrKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLm5hbWUpO1xuICAgIHRoaXMuX3Byb2ZpbGVCaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEuYWJvdXQpO1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEuYXZhdGFyKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9wcm9maWxlQmlvLnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBnZXRBdmF0YXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjLFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyhwcm9maWxlVmFsdWVzKSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBwcm9maWxlVmFsdWVzLm5hbWU7XG4gICAgdGhpcy5fcHJvZmlsZUJpby50ZXh0Q29udGVudCA9IHByb2ZpbGVWYWx1ZXMuYWJvdXQ7XG4gIH1cblxuICBzZXRBdmF0YXIocHJvZmlsZVZhbHVlcykge1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjID0gcHJvZmlsZVZhbHVlcy5hdmF0YXI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiaGFuZGxlRGVsZXRlSWNvbkNsaWNrIiwidXNlcklEIiwidGhpcyIsIl9vd25lcl9pZCIsIl91c2VySUQiLCJfdHJhc2hCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJfY2FyZCIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX2lkIiwiX293bmVyIiwib3duZXIiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfaGFuZGxlRGVsZXRlSWNvbkNsaWNrIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9lbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9mYXZvcml0ZUJ1dHRvbiIsImV2dCIsIl9jaGVja0lmTGlrZWQiLCJ0aGVuIiwicmVzIiwidXBkYXRlTGlrZXMiLCJyZW1vdmVDYXJkIiwicmVtb3ZlIiwiZ2V0SUQiLCJfcmVuZGVyTGlrZXMiLCJzb21lIiwidXNlciIsIl9saWtlc0NvdW50ZXIiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsImdlbmVyYXRlQ2FyZCIsIl9jaGVja0lmVHJhc2hJY29uQWxsb3dlZCIsIl9lbGVtZW50VGl0bGUiLCJpbWFnZUVsZW1lbnQiLCJhbHQiLCJzcmMiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJjYXJkIiwiYXBwZW5kIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJuZXdDYXJkIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJjbG9zZSIsImtleSIsIl9wb3B1cCIsIm9wZW4iLCJjbG9zZVBvcHVwT25SZW1vdGVDbGljayIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsIlBvcHVwV2l0aEZvcm0iLCJjYWxsYmFjayIsImxvYWRpbmdCdXR0b25UZXh0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX2J1dHRvblRleHQiLCJfbG9hZGluZ0J1dHRvblRleHQiLCJfY2FsbGJhY2siLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCJwcmV2ZW50RGVmYXVsdCIsInNldFRpbWVvdXQiLCJyZXNldCIsIkZvcm1WYWxpZGF0b3IiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybSIsImlucHV0RWxlbWVudCIsImZvcm1FcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3ZhbGlkYXRpb25Db25maWciLCJhY3RpdmVJbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwidHlwZU1pc21hdGNoIiwiZXJyb3JDbGFzc1NpbmdsZUxpbmUiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzRG91YmxlTGluZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGlkZUlucHV0RXJyb3IiLCJfYnV0dG9uRWxlbWVudCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9mb3JtIiwiaWQiLCJfdG9nZ2xlSW5wdXRFcnJvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJwcm9maWxlRWRpdEJ1dHRvbiIsImVkaXRQcm9maWxlRm9ybSIsImFkZENhcmRGb3JtIiwiYWRkQ2FyZEJ1dHRvbiIsImltYWdlTW9kYWwiLCJhdmF0YXJGb3JtIiwicHJvZmlsZUltYWdlT3ZlcmxheSIsInByb2ZpbGVFZGl0SW1hZ2UiLCJmb3JtU2VsZWN0b3IiLCJhcGkiLCJvcHRpb25zIiwiX3VybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJfaGFuZGxlU2VydmVyUmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0V2VicGFnZUluZm8iLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImZldGNoIiwibWV0aG9kIiwiZWRpdFByb2ZpbGVJbmZvIiwicHJvZmlsZVZhbHVlcyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhZGROZXdDYXJkIiwiY2FyZFZhbHVlcyIsImVkaXRQcm9maWxlSW1hZ2UiLCJhdmF0YXJMaW5rIiwiYXZhdGFyIiwiZGVsZXRlQ2FyZCIsImNhcmRJRCIsImNoYW5nZUxpa2VDYXJkU3RhdHVzIiwibGlrZSIsImF1dGhvcml6YXRpb24iLCJtb2RhbFByb2ZpbGUiLCJ1c2VyRGF0YSIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwibW9kYWxDYXJkIiwiY2FyZERhdGEiLCJjYXJkTGlzdCIsIm1vZGFsSW1hZ2UiLCJfaW1hZ2VNb2RhbFRpdGxlIiwiX2ltYWdlTW9kYWxJbWFnZSIsIm1vZGFsVmVyaWZ5IiwiYWRkU3VibWl0QWN0aW9uIiwiX2hhbmRsZVN1Ym1pdENhbGxiYWNrIiwibW9kYWxQcm9maWxlSW1hZ2UiLCJpbWFnZUxpbmsiLCJzZXRBdmF0YXIiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUJpbyIsIl9wcm9maWxlQXZhdGFyIiwiZ2V0QXZhdGFyIiwiaW5pdGlhbENhcmRzIiwiY3JlYXRlQ2FyZCIsIm9wZW5Qcm9maWxlSW1hZ2VNb2RhbCIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJjcmVhdGVWYWxpZGF0b3IiLCJ2YWxpZGF0b3IiLCJ1c2VyVmFsdWVzIiwiZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiYWRkQ2FyZEZvcm1WYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9