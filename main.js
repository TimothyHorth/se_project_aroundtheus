!function(){"use strict";class e{constructor(e,t,i,s,n,o){var r,a;a=()=>{this._owner_id!==this._userID&&this._trashButton.classList.add("element__trash-button_hidden")},(r="_checkIfTrashIconAllowed")in this?Object.defineProperty(this,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[r]=a,this._card=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._id=e._id,this._owner=e.owner,this._owner_id=e.owner._id,this._cardSelector=t,this._handleCardClick=i,this._handleLikeClick=s,this._handleDeleteIconClick=n,this._userID=o}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}_setEventListeners(){this._element.querySelector(".element__image").addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)})),this._favoriteButton.addEventListener("click",(e=>{this._handleLikeClick(this,this._checkIfLiked())})),this._trashButton.addEventListener("click",(()=>{this._handleDeleteIconClick(this)}))}removeCard(){this._element.remove(),this._element=null}getID(){return this._id}updateLikes(e){this._likes=e,this._renderLikes()}_checkIfLiked(){return this._likes.some((e=>e._id===this._userID))}_renderLikes(){this._checkIfLiked()?this._favoriteButton.classList.add("element__favorite-button_active"):this._favoriteButton.classList.remove("element__favorite-button_active"),this._likesCounter.textContent=this._likes.length}generateCard(){this._element=this._getTemplate(),this._favoriteButton=this._element.querySelector("#favorite-button"),this._trashButton=this._element.querySelector(".element__trash-button"),this._likesCounter=this._element.querySelector(".element__likes-counter"),this._renderLikes(),this._checkIfTrashIconAllowed(),this._setEventListeners(),this._elementTitle=this._element.querySelector(".element__title"),this._elementTitle.textContent=this._name;const e=this._element.querySelector(".element__image");return e.alt="Photo of ".concat(this._name),e.src=this._link,this._element}}class t{constructor(e,t){let{items:i,renderer:s}=e;this._items=i,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{const t=this._renderer(e);this._container.append(t)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e){i(this,"closePopupOnRemoteClick",(e=>{e.target===e.currentTarget&&this.close()})),i(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),this._popup=document.querySelector(e)}open(){this._popup.classList.add("modal_opened"),this._popup.addEventListener("mousedown",this.closePopupOnRemoteClick),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("modal_opened"),this._popup.removeEventListener("mousedown",this.closePopupOnRemoteClick),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.querySelector(".modal__close-button").addEventListener("click",(()=>{this.close()}))}}class n extends s{constructor(e,t,i){super(e),this._popupForm=this._popup.querySelector(".modal__form"),this._inputList=Array.from(this._popupForm.querySelectorAll(".form__input")),this._submitButton=this._popup.querySelector(".form__submit-button"),this._buttonText=this._submitButton.textContent,this._loadingButtonText=i,this._callback=t}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}showLoading(){this._submitButton.textContent=this._loadingButtonText}hideLoading(){this._submitButton.textContent=this._buttonText}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._callback(this._getInputValues())}))}close(){super.close(),setTimeout((()=>{this._popupForm.reset()}),500)}}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{constructor(e,t){o(this,"_showInputError",((e,t)=>{t.textContent=e.validationMessage,t.classList.add(this._validationConfig.activeInputErrorClass),e.validity.valid||1!=e.value.length||e.validity.typeMismatch?e.validity.valid||(t.classList.add(this._validationConfig.errorClassSingleLine),e.classList.add(this._validationConfig.inputErrorClass)):(t.classList.add(this._validationConfig.errorClassDoubleLine),e.classList.add(this._validationConfig.inputErrorClass))})),o(this,"_hideInputError",((e,t)=>{e.classList.remove(this._validationConfig.inputErrorClass),t.classList.remove(this._validationConfig.activeInputErrorClass),t.classList.remove(this._validationConfig.errorClassSingleLine),t.classList.remove(this._validationConfig.errorClassDoubleLine)})),o(this,"_toggleInputError",((e,t)=>{this._hasInvalidInput?this._showInputError(e,t):this._hideInputError(e,t)})),o(this,"toggleButtonState",(()=>{this._hasInvalidInput()?(this._buttonElement.classList.add(this._validationConfig.inactiveButtonClass),this._buttonElement.setAttribute("disabled","true")):(this._buttonElement.classList.remove(this._validationConfig.inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))})),o(this,"_setEventListeners",(()=>{this.toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{const t=this._form.querySelector("#".concat(e.id,"-input-error"));this._hideInputError(e,t),this._toggleInputError(e,t),this.toggleButtonState()}))}))})),o(this,"_hasInvalidInput",(()=>this._inputList.some((e=>!e.validity.valid)))),this._validationConfig=e,this._form=t,this._buttonElement=this._form.querySelector(this._validationConfig.submitButtonSelector),this._inputList=Array.from(this._form.querySelectorAll(this._validationConfig.inputSelector))}resetValidation(){this._inputList.forEach((e=>{const t=this._form.querySelector("#".concat(e.id,"-input-error"));this._hideInputError(e,t)}))}enableValidation(){this._setEventListeners()}}document.querySelector(".modal_type_profile");const a=document.querySelector("#edit-button"),l=(document.querySelector(".modal__close-button_type_profile"),document.querySelector(".profile__info-name-text"),document.querySelector(".profile__info-bio"),document.querySelector("#name"),document.querySelector("#about-me"),document.querySelector(".modal__form_type_profile")),c=(document.querySelector(".modal_type_card"),document.querySelector(".modal__close-button_type_card"),document.querySelector(".modal__form_type_card")),u=(document.querySelector("#title"),document.querySelector("#image-link"),document.querySelector(".profile__add-button")),_=(document.querySelector(".elements"),document.querySelector(".modal_type_image")),h=(document.querySelector(".modal__image"),document.querySelector(".modal__title_type_image"),_.querySelector("#image-close"),document.querySelector(".profile__avatar"),document.querySelector(".profile__edit-image"),document.querySelector(".modal__form_type_profile-image")),d=document.querySelector(".profile__overlay"),m=document.querySelector(".profile__edit-image"),p={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit-button",inactiveButtonClass:"form__submit-button_inactive",activeInputErrorClass:"form__input-error_active",inputErrorClass:"form__input_type_error",errorClassSingleLine:"form__input-error_type_single-line",errorClassDoubleLine:"form__input-error_type_double-line"},f=new class{constructor(e){this._url=e.baseUrl,this._headers=e.headers}_handleServerResponse(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}getWebpageInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getUserInfo(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleServerResponse)}getInitialCards(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then((e=>this._handleServerResponse(e)))}editProfileInfo(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((e=>this._handleServerResponse(e)))}addNewCard(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((e=>this._handleServerResponse(e)))}editProfileImage(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>this._handleServerResponse(e)))}deleteCard(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((e=>this._handleServerResponse(e)))}changeLikeCardStatus(e,t){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:t?"DELETE":"PUT",headers:this._headers}).then((e=>this._handleServerResponse(e)))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"655a1e50-e6e9-4121-944b-aac1807b3df3","Content-Type":"application/json"}}),v=new n(".modal_type_profile",(function(e){v.showLoading(),f.editProfileInfo(e).then((e=>{L.setUserInfo(e),v.close()})).catch((e=>{console.log(e)})).finally((()=>{v.hideLoading()}))}),"Saving..."),g=new n(".modal_type_card",(function(e){g.showLoading(),f.addNewCard(e).then((e=>{C.addItem(e),g.close()})).catch((e=>{console.log(e)})).finally((()=>{g.hideLoading()}))}),"Creating..."),y=new class extends s{constructor(e){super(e),this._imageModalTitle=this._popup.querySelector(".modal__title_type_image"),this._imageModalImage=this._popup.querySelector(".modal__image")}open(e,t){super.open(),this._imageModalImage.src=t,this._imageModalImage.alt="Photo of ".concat(e),this._imageModalTitle.textContent=e}}(".modal_type_image"),b=new class extends s{constructor(e,t){super(),this._popup=document.querySelector(e),this._submitButton=this._popup.querySelector("#verify-save"),this._buttonText=this._submitButton.textContent,this._loadingButtonText=t}addSubmitAction(e){this._handleSubmitCallback=e}showLoading(){this._submitButton.textContent=this._loadingButtonText}hideLoading(){this._submitButton.textContent=this._buttonText}setEventListeners(){super.setEventListeners(),this._submitButton.addEventListener("click",(e=>{e.preventDefault(),this._handleSubmitCallback()}))}}(".modal_type_verify","Removing..."),S=new n(".modal_type_profile-image",(function(e){S.showLoading(),f.editProfileImage(e.link).then((e=>{L.setAvatar(e.avatar),S.close()})).catch((e=>{console.log(e)})).finally((()=>{S.hideLoading()}))}),"Saving..."),L=new class{constructor(e){this._profileName=document.querySelector(e.name),this._profileBio=document.querySelector(e.about),this._profileAvatar=document.querySelector(e.avatar)}getUserInfo(){return{name:this._profileName.textContent,about:this._profileBio.textContent}}getAvatar(){return{link:this._profileAvatar.src}}setUserInfo(e){this._profileName.textContent=e.name,this._profileBio.textContent=e.about}setAvatar(e){this._profileAvatar.src=e}}({name:".profile__info-name-text",about:".profile__info-bio",avatar:".profile__avatar"});let C;f.getWebpageInfo().then((i=>{let[s,n]=i;L.setUserInfo(n),L.setAvatar(n.avatar),C=new t({items:s,renderer:t=>function(t,i){return new e(t,"#element-template",E,q,w,i).generateCard()}(t,n._id)},".elements"),C.renderItems()})).catch((e=>{console.log(e)}));const E=(e,t)=>{y.open(e,t)};function k(){const e=L.getAvatar();S.setInputValues(e),T.resetValidation(),T.toggleButtonState(),S.open()}const I=e=>{const t=new r(p,e);return t.enableValidation(),t};function q(e,t){return f.changeLikeCardStatus(e._id,t).then((t=>{e.updateLikes(t.likes)})).catch((e=>{console.log(e)}))}function w(e){b.open(),b.addSubmitAction((()=>{b.showLoading(),f.deleteCard(e.getID()).then((()=>{e.removeCard(),b.close()})).catch((e=>{console.log(e)})).finally((()=>{b.hideLoading()}))}))}a.addEventListener("click",(function(){const e=L.getUserInfo();v.setInputValues(e),x.resetValidation(),x.toggleButtonState(),v.open()})),u.addEventListener("click",(function(){B.resetValidation(),B.toggleButtonState(),g.open()})),d.addEventListener("click",(function(){k()})),m.addEventListener("click",(function(){k()})),v.setEventListeners(),g.setEventListeners(),y.setEventListeners(),S.setEventListeners(),b.setEventListeners();const B=I(c),x=I(l),T=I(h)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YjJHLEVBQVUzRyxvQkFDVjhHLEVBQVc5RyxvQkFDWG9ILEVBQWtCcEgsb0JBQ2xCaUgsRUFBWWpILG9CQUdaLE1BQU1vSSxFQUF1QkosRUFBZ0J6RSxHQUN2QzRFLEVBQTJCSCxFQUFnQjFFLEdBQzNDeUUsRUFBc0JDLEVBQWdCdEUsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtQ2xpY2suanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGRhdGEsXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlSWNvbkNsaWNrLFxuICAgIHVzZXJJRFxuICApIHtcbiAgICB0aGlzLl9jYXJkID0gZGF0YTtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyO1xuICAgIHRoaXMuX293bmVyX2lkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlSWNvbkNsaWNrID0gaGFuZGxlRGVsZXRlSWNvbkNsaWNrO1xuICAgIHRoaXMuX3VzZXJJRCA9IHVzZXJJRDtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICAvLyAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbGVtZW50LXRlbXBsYXRlXCIpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpLmNsb25lTm9kZSh0cnVlKTtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byBpbWFnZSBmb3Igb3BlbmluZyBJbWFnZU1vZGFsIGlmIGNsaWNrZWRcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XG4gICAgaW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gZmF2b3JpdGUgYnV0dG9uXG4gICAgdGhpcy5fZmF2b3JpdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLCB0aGlzLl9jaGVja0lmTGlrZWQoKSk7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gdHJhc2ggYnV0dG9uXG4gICAgdGhpcy5fdHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUljb25DbGljayh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIGdldElEKCkge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuXG4gIF9jaGVja0lmVHJhc2hJY29uQWxsb3dlZCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5fb3duZXJfaWQgIT09IHRoaXMuX3VzZXJJRCkge1xuICAgICAgdGhpcy5fdHJhc2hCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX3RyYXNoLWJ1dHRvbl9oaWRkZW5cIik7XG4gICAgfVxuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHVwZGF0ZUxpa2VzKGxpa2VzKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xuICB9XG5cbiAgX2NoZWNrSWZMaWtlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgodXNlcikgPT4gdXNlci5faWQgPT09IHRoaXMuX3VzZXJJRCk7XG4gIH1cblxuICBfcmVuZGVyTGlrZXMoKSB7XG4gICAgLy8gc2V0IGxpa2VzIGN1bnRlciBjb250ZW50IHVzaW5nIHRoaXMuX2xpa2VzLmxlbmd0aFxuICAgIGlmICh0aGlzLl9jaGVja0lmTGlrZWQoKSkge1xuICAgICAgLy8gYWRkIGFjdGl2ZSBjbGFzcyB0byBsaWtlIGJ1dHRvblxuICAgICAgdGhpcy5fZmF2b3JpdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2Zhdm9yaXRlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBsaWtlIGJ1dHRvblxuICAgICAgdGhpcy5fZmF2b3JpdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2Zhdm9yaXRlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfVxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgfVxuXG4gIC8vIENyZWF0ZSBuZXcgY2FyZCBlbGVtZW50XG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9mYXZvcml0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNmYXZvcml0ZS1idXR0b25cIik7XG4gICAgdGhpcy5fdHJhc2hCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdHJhc2gtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2xpa2VzQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlcy1jb3VudGVyXCIpO1xuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XG4gICAgdGhpcy5fY2hlY2tJZlRyYXNoSWNvbkFsbG93ZWQoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fZWxlbWVudFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RpdGxlXCIpO1xuICAgIHRoaXMuX2VsZW1lbnRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xuICAgIGltYWdlRWxlbWVudC5hbHQgPSBgUGhvdG8gb2YgJHt0aGlzLl9uYW1lfWA7XG4gICAgaW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChjYXJkKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIGNvbnN0IG5ld0NhcmQgPSB0aGlzLl9yZW5kZXJlcihlbGVtZW50KTtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChuZXdDYXJkKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgLy8gQ2xvc2UgbW9kYWwgd2luZG93IGJ5IGNsaWNraW5nIG9uIG92ZXJsYXlcbiAgY2xvc2VQb3B1cE9uUmVtb3RlQ2xpY2sgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIE1ldGhvZCBmb3IgY2xvc2luZyBwb3B1cCBieSBwcmVzc2luZyBFc2Mga2V5XG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBPcGVuIHBvcHVwXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuY2xvc2VQb3B1cE9uUmVtb3RlQ2xpY2spO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIC8vIENsb3NlIHBvcHVwXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmNsb3NlUG9wdXBPblJlbW90ZUNsaWNrKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICAvLyBTZXQgRXZlbnRMaXN0ZW5lcnNcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGNhbGxiYWNrLCBsb2FkaW5nQnV0dG9uVGV4dCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpXG4gICAgKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3N1Ym1pdC1idXR0b25cIik7XG4gICAgdGhpcy5fYnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICB0aGlzLl9sb2FkaW5nQnV0dG9uVGV4dCA9IGxvYWRpbmdCdXR0b25UZXh0O1xuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSk7XG4gIH1cblxuICBzaG93TG9hZGluZygpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9sb2FkaW5nQnV0dG9uVGV4dDtcbiAgfVxuXG4gIGhpZGVMb2FkaW5nKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2J1dHRvblRleHQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fY2FsbGJhY2sodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgICB9LCA1MDApO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybSkge1xuICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcgPSB2YWxpZGF0aW9uQ29uZmlnO1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICB9XG5cbiAgLy8gRnVuY3Rpb24gdG8gc2hvdyBpbnB1dCBlcnJvclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBmb3JtRXJyb3IpID0+IHtcbiAgICBmb3JtRXJyb3IudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZm9ybUVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5hY3RpdmVJbnB1dEVycm9yQ2xhc3MpO1xuICAgIGlmIChcbiAgICAgICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQgJiZcbiAgICAgIGlucHV0RWxlbWVudC52YWx1ZS5sZW5ndGggPT0gMSAmJlxuICAgICAgIWlucHV0RWxlbWVudC52YWxpZGl0eS50eXBlTWlzbWF0Y2hcbiAgICApIHtcbiAgICAgIGZvcm1FcnJvci5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzc0RvdWJsZUxpbmUpO1xuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIH0gZWxzZSBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgZm9ybUVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzU2luZ2xlTGluZSk7XG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGhpZGUgaW5wdXQgZXJyb3JcbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCwgZm9ybUVycm9yKSA9PiB7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGZvcm1FcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuYWN0aXZlSW5wdXRFcnJvckNsYXNzKTtcbiAgICBmb3JtRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3NTaW5nbGVMaW5lKTtcbiAgICBmb3JtRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3NEb3VibGVMaW5lKTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byByZXNldCBmb3JtIHZhbGlkYXRpb25cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IGZvcm1FcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0taW5wdXQtZXJyb3JgXG4gICAgICApO1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBmb3JtRXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gRnVuY3Rpb24gdG8gdG9nZ2xlIHRoZSBpbnB1dCBlcnJvcnMgYmFzZWQgb24gdmFsaWRpdHlcbiAgX3RvZ2dsZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBmb3JtRXJyb3IpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGZvcm1FcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZm9ybUVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gdG9nZ2xlIFN1Ym1pdCBidXR0b24gc3RhdGUgKGRpc2FibGVkIG9yIG5vdClcbiAgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzc1xuICAgICAgKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzc1xuICAgICAgKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGluaXRpYWxseSBzZXQgYWxsIGZvcm0gYW5kIGVsZW1lbnQgc3RhdGVzIHRvIHRoZSBjb3JyZWN0IGRpc3BsYXksIGFzIHdlbGwgYXNcbiAgLy8gc2V0IGV2ZW50IGxpc3RlbmVycyBvbiBlYWNoIGlucHV0IHRvIHJ1biB2YWxpZGF0aW9uIHVwb24gbmV3IGlucHV0LlxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtRXJyb3IgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0taW5wdXQtZXJyb3JgXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZm9ybUVycm9yKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGZvcm1FcnJvcik7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIGFsbCBpbnB1dCB2YWx1ZXMgYXJlIHZhbGlkXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiLy9Jbml0aWFsaXplIHZhcmlhYmxlcyBmb3IgbW9kYWwgd2luZG93XG5cbi8vIFByb2ZpbGUgTW9kYWwgd2luZG93XG5jb25zdCBwcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX3R5cGVfcHJvZmlsZVwiKTtcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWJ1dHRvblwiKTtcbmNvbnN0IHByb2ZpbGVNb2RhbENsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX3Byb2ZpbGVcIlxuKTtcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbmZvLW5hbWUtdGV4dFwiKTtcbmNvbnN0IHByb2ZpbGVBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW5mby1iaW9cIik7XG5jb25zdCBmb3JtTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcbmNvbnN0IGZvcm1EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWJvdXQtbWVcIik7XG5jb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtX3R5cGVfcHJvZmlsZVwiKTtcblxuLy8gQ2FyZCBNb2RhbCB3aW5kb3dcbmNvbnN0IG5ld0NhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9jYXJkXCIpO1xuY29uc3QgbmV3Q2FyZE1vZGFsQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGVfY2FyZFwiXG4pO1xuY29uc3QgYWRkQ2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtX3R5cGVfY2FyZFwiKTtcbmNvbnN0IGNhcmRUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGVcIik7XG5jb25zdCBjYXJkSW1hZ2VMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1saW5rXCIpO1xuY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5cbi8vIEltYWdlIE1vZGFsIHdpbmRvd1xuY29uc3QgaW1hZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9pbWFnZVwiKTtcbmNvbnN0IGltYWdlTW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuY29uc3QgaW1hZ2VNb2RhbFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fdGl0bGVfdHlwZV9pbWFnZVwiKTtcbmNvbnN0IGltYWdlTW9kYWxDbG9zZUJ1dHRvbiA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1jbG9zZVwiKTtcblxuLy8gUHJvZmlsZSBpbWFnZSBjb25zdGFudHNcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcbmNvbnN0IHByb2ZpbGVFZGl0UGVuY2lsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWltYWdlXCIpO1xuY29uc3QgYXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1fdHlwZV9wcm9maWxlLWltYWdlXCIpO1xuY29uc3QgcHJvZmlsZUltYWdlT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fb3ZlcmxheVwiKTtcbmNvbnN0IHByb2ZpbGVFZGl0SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtaW1hZ2VcIik7XG5cbi8vIEluaXRpYWxpemluZyB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIHZhbGlkYXRpb25cblxuY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19zdWJtaXQtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fc3VibWl0LWJ1dHRvbl9pbmFjdGl2ZVwiLFxuICBhY3RpdmVJbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3NTaW5nbGVMaW5lOiBcImZvcm1fX2lucHV0LWVycm9yX3R5cGVfc2luZ2xlLWxpbmVcIixcbiAgZXJyb3JDbGFzc0RvdWJsZUxpbmU6IFwiZm9ybV9faW5wdXQtZXJyb3JfdHlwZV9kb3VibGUtbGluZVwiLFxufTtcblxuZXhwb3J0IHtcbiAgcHJvZmlsZU1vZGFsLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgcHJvZmlsZU1vZGFsQ2xvc2VCdXR0b24sXG4gIHByb2ZpbGVOYW1lLFxuICBwcm9maWxlQWJvdXQsXG4gIHByb2ZpbGVBdmF0YXIsXG4gIHByb2ZpbGVJbWFnZU92ZXJsYXksXG4gIHByb2ZpbGVFZGl0SW1hZ2UsXG4gIHByb2ZpbGVFZGl0UGVuY2lsLFxuICBmb3JtTmFtZSxcbiAgZm9ybURlc2NyaXB0aW9uLFxuICBlZGl0UHJvZmlsZUZvcm0sXG4gIG5ld0NhcmRNb2RhbCxcbiAgbmV3Q2FyZE1vZGFsQ2xvc2VCdXR0b24sXG4gIGFkZENhcmRGb3JtLFxuICBhdmF0YXJGb3JtLFxuICBjYXJkVGl0bGUsXG4gIGNhcmRJbWFnZUxpbmssXG4gIGFkZENhcmRCdXR0b24sXG4gIGNhcmRzTGlzdCxcbiAgaW1hZ2VNb2RhbCxcbiAgaW1hZ2VNb2RhbEltYWdlLFxuICBpbWFnZU1vZGFsVGl0bGUsXG4gIGltYWdlTW9kYWxDbG9zZUJ1dHRvbixcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbn07XG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBJbXBvcnQgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gaW1wb3J0IG1haW4gY3NzIHN0eWxlc2hlZXRcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbi8vIGltcG9ydCBjbGFzc2VzIGZyb20gcmVzcGVjdGl2ZSBKUyBmaWxlc1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtQ2xpY2sgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtQ2xpY2suanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanNcIjtcblxuLy8gaW1wb3J0IGNvbnN0YW50cyBmcm9tIHV0aWxzL2NvbnN0YW50cy5qc1xuaW1wb3J0IHtcbiAgcHJvZmlsZUVkaXRCdXR0b24sXG4gIHByb2ZpbGVJbWFnZU92ZXJsYXksXG4gIHByb2ZpbGVFZGl0SW1hZ2UsXG4gIGFkZENhcmRGb3JtLFxuICBlZGl0UHJvZmlsZUZvcm0sXG4gIGF2YXRhckZvcm0sXG4gIGFkZENhcmRCdXR0b24sXG4gIHZhbGlkYXRpb25Db25maWcsXG59IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIElOSVRJQUxJWkUgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI2NTVhMWU1MC1lNmU5LTQxMjEtOTQ0Yi1hYWMxODA3YjNkZjNcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vLyBJbml0aWFsaXplIGluc3RhbmNlcyBvZiB0aGUgUG9wdXAgY2xhc3NlcyBmb3IgZWFjaCBtb2RhbCB3aW5kb3dcbmNvbnN0IG1vZGFsUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIi5tb2RhbF90eXBlX3Byb2ZpbGVcIixcbiAgc3VibWl0UHJvZmlsZSxcbiAgXCJTYXZpbmcuLi5cIlxuKTtcbmNvbnN0IG1vZGFsQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIi5tb2RhbF90eXBlX2NhcmRcIixcbiAgc3VibWl0Q2FyZCxcbiAgXCJDcmVhdGluZy4uLlwiXG4pO1xuY29uc3QgbW9kYWxJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5tb2RhbF90eXBlX2ltYWdlXCIpO1xuY29uc3QgbW9kYWxWZXJpZnkgPSBuZXcgUG9wdXBXaXRoRm9ybUNsaWNrKFwiLm1vZGFsX3R5cGVfdmVyaWZ5XCIsIFwiUmVtb3ZpbmcuLi5cIik7XG5jb25zdCBtb2RhbFByb2ZpbGVJbWFnZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIi5tb2RhbF90eXBlX3Byb2ZpbGUtaW1hZ2VcIixcbiAgc3VibWl0UHJvZmlsZUltYWdlLFxuICBcIlNhdmluZy4uLlwiXG4pO1xuXG4vLyBJbml0aWFsaXplIGFuIGluc3RhbmNlIG9mIHRoZSBVc2VySW5mbyBjbGFzc1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lOiBcIi5wcm9maWxlX19pbmZvLW5hbWUtdGV4dFwiLFxuICBhYm91dDogXCIucHJvZmlsZV9faW5mby1iaW9cIixcbiAgYXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcbn0pO1xuXG5sZXQgY2FyZExpc3Q7XG5cbmFwaVxuICAuZ2V0V2VicGFnZUluZm8oKVxuICAudGhlbigoW2luaXRpYWxDYXJkcywgdXNlckRhdGFdKSA9PiB7XG4gICAgLy9zZXQgdXNlciBpbmZvXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgIHVzZXJJbmZvLnNldEF2YXRhcih1c2VyRGF0YS5hdmF0YXIpO1xuXG4gICAgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAgICAgIHtcbiAgICAgICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUNhcmQoaXRlbSwgdXNlckRhdGEuX2lkKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBcIi5lbGVtZW50c1wiXG4gICAgKTtcblxuICAgIC8vIFJlbmRlciBpdGVtc1xuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRlVOQ1RJT05TIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIGNhcmQgdGlsZSBmb3IgYSBuZXcgbG9jYXRpb25cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSwgdXNlcklEKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBpdGVtLFxuICAgIFwiI2VsZW1lbnQtdGVtcGxhdGVcIixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUljb25DbGljayxcbiAgICB1c2VySURcbiAgKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbi8vIGhhbmRsZUNhcmRDbGljayBmdW5jdGlvbiB0byBwYXNzIHRvIENhcmQgZm9yIG1vZGFsSW1hZ2VcbmNvbnN0IGhhbmRsZUNhcmRDbGljayA9IChuYW1lLCBsaW5rKSA9PiB7XG4gIG1vZGFsSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcbn07XG5cbi8vIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBtb2RhbFByb2ZpbGUgd2hlbiBmb3JtIGlzIHN1Ym1pdHRlZCB0byBzdWJtaXQgdXNlciBpbmZvXG5mdW5jdGlvbiBzdWJtaXRQcm9maWxlKHByb2ZpbGVWYWx1ZXMpIHtcbiAgbW9kYWxQcm9maWxlLnNob3dMb2FkaW5nKCk7XG4gIC8vIFVwZGF0aW5nIHByb2ZpbGUgdXNlciBpbmZvXG4gIGFwaVxuICAgIC5lZGl0UHJvZmlsZUluZm8ocHJvZmlsZVZhbHVlcylcbiAgICAudGhlbigodXNlckRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcbiAgICAgIG1vZGFsUHJvZmlsZS5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBtb2RhbFByb2ZpbGUuaGlkZUxvYWRpbmcoKTtcbiAgICB9KTtcbn1cblxuLy8gY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG1vZGFsQ2FyZCB3aGVuIGZvcm0gaXMgc3VibWl0dGVkXG5mdW5jdGlvbiBzdWJtaXRDYXJkKGNhcmRWYWx1ZXMpIHtcbiAgbW9kYWxDYXJkLnNob3dMb2FkaW5nKCk7XG4gIC8vIEFkZGluZyBhIG5ldyBjYXJkXG4gIGFwaVxuICAgIC5hZGROZXdDYXJkKGNhcmRWYWx1ZXMpXG4gICAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmREYXRhKTtcbiAgICAgIG1vZGFsQ2FyZC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBtb2RhbENhcmQuaGlkZUxvYWRpbmcoKTtcbiAgICB9KTtcbn1cblxuLy8gY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG1vZGFsUHJvZmlsZUltYWdlIHdoZW4gZm9ybSBpcyBzdWJtaXR0ZWQgdG8gZWRpdCBwcm9maWxlIGltYWdlXG5mdW5jdGlvbiBzdWJtaXRQcm9maWxlSW1hZ2UoaW1hZ2VMaW5rKSB7XG4gIG1vZGFsUHJvZmlsZUltYWdlLnNob3dMb2FkaW5nKCk7XG4gIC8vIFVwZGF0aW5nIHByb2ZpbGUgdXNlciBpbmZvXG4gIGFwaVxuICAgIC5lZGl0UHJvZmlsZUltYWdlKGltYWdlTGluay5saW5rKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihyZXMuYXZhdGFyKTtcbiAgICAgIG1vZGFsUHJvZmlsZUltYWdlLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIG1vZGFsUHJvZmlsZUltYWdlLmhpZGVMb2FkaW5nKCk7XG4gICAgfSk7XG59XG5cbi8vIEZ1bmN0aW9uIGZvciBvcGVuaW5nIG1vZGFsUHJvZmlsZUltYWdlIHdpbmRvdyB0byBlZGl0IHByb2ZpbGUgcGljdHVyZVxuZnVuY3Rpb24gb3BlblByb2ZpbGVJbWFnZU1vZGFsKCkge1xuICBjb25zdCBpbWFnZUxpbmsgPSB1c2VySW5mby5nZXRBdmF0YXIoKTtcbiAgbW9kYWxQcm9maWxlSW1hZ2Uuc2V0SW5wdXRWYWx1ZXMoaW1hZ2VMaW5rKTtcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICBtb2RhbFByb2ZpbGVJbWFnZS5vcGVuKCk7XG59XG5cbi8vIGZ1bmN0aW9uIGZvciBjcmVhdGluZyB2YWxpZGF0b3JzXG5jb25zdCBjcmVhdGVWYWxpZGF0b3IgPSAoZm9ybSkgPT4ge1xuICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtKTtcbiAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuICByZXR1cm4gdmFsaWRhdG9yO1xufTtcblxuLy8gZnVuY3Rpb24gdG8gaGFuZGxlIGNsaWNraW5nIG9mIHRoZSBmYXZvcml0ZS9saWtlIGJ1dHRvblxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQsIGxpa2UpIHtcbiAgcmV0dXJuIGFwaVxuICAgIC5jaGFuZ2VMaWtlQ2FyZFN0YXR1cyhjYXJkLl9pZCwgbGlrZSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkLnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1cblxuLy8gZnVuY3Rpb24gZm9yIGRlbGV0aW5nL3JlbW92aW5nIGNhcmRcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUljb25DbGljayhjYXJkKSB7XG4gIG1vZGFsVmVyaWZ5Lm9wZW4oKTtcbiAgbW9kYWxWZXJpZnkuYWRkU3VibWl0QWN0aW9uKCgpID0+IHtcbiAgICBtb2RhbFZlcmlmeS5zaG93TG9hZGluZygpO1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5nZXRJRCgpKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLnJlbW92ZUNhcmQoKTtcbiAgICAgICAgbW9kYWxWZXJpZnkuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgbW9kYWxWZXJpZnkuaGlkZUxvYWRpbmcoKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBFVkVOVExJU1RFTkVSUyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIHNldCBldmVudGxpc3RlbmVyIGZvciBvcGVuaW5nIHRoZSBtb2RhbFByb2ZpbGUgd2luZG93IHdoZW4gdGhlIGVkaXQgYnV0dG9uIGlzIGNsaWNrZWRcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHVzZXJWYWx1ZXMgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBtb2RhbFByb2ZpbGUuc2V0SW5wdXRWYWx1ZXModXNlclZhbHVlcyk7XG4gIGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIG1vZGFsUHJvZmlsZS5vcGVuKCk7XG59KTtcblxuLy8gc2V0IGV2ZW50bGlzdGVuZXIgZm9yIG5ldyBtb2RhbENhcmQgd2luZG93IHdoZW4gdGhlIHBsdXMgKGFkZCBuZXcgY2FyZCkgYnV0dG9uIGlzIGNsaWNrZWRcbmFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGFkZENhcmRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIG1vZGFsQ2FyZC5vcGVuKCk7XG59KTtcblxuLy8gYWRkIGV2ZW50bGlzdGVuZXIgdG8gb3BlbiBwcm9maWxlIGltYWdlIG1vZGFsXG5wcm9maWxlSW1hZ2VPdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIG9wZW5Qcm9maWxlSW1hZ2VNb2RhbCgpO1xufSk7XG5cbi8vIGFkZCBldmVudGxpc3RlbmVyIHRvIG9wZW4gcHJvZmlsZSBpbWFnZSBtb2RhbFxucHJvZmlsZUVkaXRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBvcGVuUHJvZmlsZUltYWdlTW9kYWwoKTtcbn0pO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFBST0dSQU0gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gUnVuIHRoZSAnc2V0RXZlbnRMSXN0ZW5lcnMnIG1ldGhvZCBmb3IgZWFjaCBtb2RhbCB3aW5kb3dcbm1vZGFsUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xubW9kYWxDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5tb2RhbEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5tb2RhbFByb2ZpbGVJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xubW9kYWxWZXJpZnkuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8gSW5pdGlhbGl6ZSB2YWxpZGF0b3JzXG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRvciA9IGNyZWF0ZVZhbGlkYXRvcihhZGRDYXJkRm9ybSk7XG5jb25zdCBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBjcmVhdGVWYWxpZGF0b3IoZWRpdFByb2ZpbGVGb3JtKTtcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBjcmVhdGVWYWxpZGF0b3IoYXZhdGFyRm9ybSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fdXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICBfaGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKSB7XG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldFdlYnBhZ2VJbmZvKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRJbml0aWFsQ2FyZHMoKSwgdGhpcy5nZXRVc2VySW5mbygpXSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBlZGl0UHJvZmlsZUluZm8ocHJvZmlsZVZhbHVlcykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBwcm9maWxlVmFsdWVzLm5hbWUsXG4gICAgICAgIGFib3V0OiBwcm9maWxlVmFsdWVzLmFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIGFkZE5ld0NhcmQoY2FyZFZhbHVlcykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGNhcmRWYWx1ZXMubmFtZSxcbiAgICAgICAgbGluazogY2FyZFZhbHVlcy5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlSW1hZ2UoYXZhdGFyTGluaykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJMaW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElEKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSUR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKHJlcykpO1xuICB9XG5cbiAgY2hhbmdlTGlrZUNhcmRTdGF0dXMoY2FyZElELCBsaWtlKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvbGlrZXMvJHtjYXJkSUR9YCwge1xuICAgICAgbWV0aG9kOiAhbGlrZSA/IFwiUFVUXCIgOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKHJlcykpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbWFnZU1vZGFsVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIubW9kYWxfX3RpdGxlX3R5cGVfaW1hZ2VcIlxuICAgICk7XG4gICAgdGhpcy5faW1hZ2VNb2RhbEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gIH1cblxuICBvcGVuKG5hbWUsIGxpbmspIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgLy9BZGQgYW4gaW1hZ2UgdG8gdGhlIHBvcHVwIGFuZCB0aGUgY29ycmVzcG9uZGluZyBpbWFnZSBzcmMgYXR0cmlidXRlIGFsb25nIHdpdGggYSBjYXB0aW9uIGZvciB0aGUgaW1hZ2VcbiAgICB0aGlzLl9pbWFnZU1vZGFsSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9pbWFnZU1vZGFsSW1hZ2UuYWx0ID0gYFBob3RvIG9mICR7bmFtZX1gO1xuICAgIHRoaXMuX2ltYWdlTW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtQ2xpY2sgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGxvYWRpbmdCdXR0b25UZXh0KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIiN2ZXJpZnktc2F2ZVwiKTtcbiAgICB0aGlzLl9idXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICAgIHRoaXMuX2xvYWRpbmdCdXR0b25UZXh0ID0gbG9hZGluZ0J1dHRvblRleHQ7XG4gIH1cblxuICBhZGRTdWJtaXRBY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRDYWxsYmFjayA9IGNhbGxiYWNrO1xuICB9XG5cbiAgc2hvd0xvYWRpbmcoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fbG9hZGluZ0J1dHRvblRleHQ7XG4gIH1cblxuICBoaWRlTG9hZGluZygpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9idXR0b25UZXh0O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Q2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEubmFtZSk7XG4gICAgdGhpcy5fcHJvZmlsZUJpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5hYm91dCk7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5hdmF0YXIpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX3Byb2ZpbGVCaW8udGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIGdldEF2YXRhcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGluazogdGhpcy5fcHJvZmlsZUF2YXRhci5zcmMsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHByb2ZpbGVWYWx1ZXMpIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHByb2ZpbGVWYWx1ZXMubmFtZTtcbiAgICB0aGlzLl9wcm9maWxlQmlvLnRleHRDb250ZW50ID0gcHJvZmlsZVZhbHVlcy5hYm91dDtcbiAgfVxuXG4gIHNldEF2YXRhcihwcm9maWxlVmFsdWUpIHtcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IHByb2ZpbGVWYWx1ZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVEZWxldGVJY29uQ2xpY2siLCJ1c2VySUQiLCJ0aGlzIiwiX293bmVyX2lkIiwiX3VzZXJJRCIsIl90cmFzaEJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsIl9jYXJkIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfaWQiLCJfb3duZXIiLCJvd25lciIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVJY29uQ2xpY2siLCJfZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2Zhdm9yaXRlQnV0dG9uIiwiZXZ0IiwiX2NoZWNrSWZMaWtlZCIsInJlbW92ZUNhcmQiLCJyZW1vdmUiLCJnZXRJRCIsInVwZGF0ZUxpa2VzIiwiX3JlbmRlckxpa2VzIiwic29tZSIsInVzZXIiLCJfbGlrZXNDb3VudGVyIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJnZW5lcmF0ZUNhcmQiLCJfY2hlY2tJZlRyYXNoSWNvbkFsbG93ZWQiLCJfZWxlbWVudFRpdGxlIiwiaW1hZ2VFbGVtZW50IiwiYWx0Iiwic3JjIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsImZvckVhY2giLCJpdGVtIiwiY2FyZCIsImFwcGVuZCIsImFkZEl0ZW0iLCJlbGVtZW50IiwibmV3Q2FyZCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY2xvc2UiLCJrZXkiLCJfcG9wdXAiLCJvcGVuIiwiY2xvc2VQb3B1cE9uUmVtb3RlQ2xpY2siLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwiY2FsbGJhY2siLCJsb2FkaW5nQnV0dG9uVGV4dCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsIl9idXR0b25UZXh0IiwiX2xvYWRpbmdCdXR0b25UZXh0IiwiX2NhbGxiYWNrIiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwic2V0SW5wdXRWYWx1ZXMiLCJzaG93TG9hZGluZyIsImhpZGVMb2FkaW5nIiwicHJldmVudERlZmF1bHQiLCJzZXRUaW1lb3V0IiwicmVzZXQiLCJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm0iLCJpbnB1dEVsZW1lbnQiLCJmb3JtRXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl92YWxpZGF0aW9uQ29uZmlnIiwiYWN0aXZlSW5wdXRFcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsInR5cGVNaXNtYXRjaCIsImVycm9yQ2xhc3NTaW5nbGVMaW5lIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzc0RvdWJsZUxpbmUiLCJfaGFzSW52YWxpZElucHV0IiwiX3Nob3dJbnB1dEVycm9yIiwiX2hpZGVJbnB1dEVycm9yIiwiX2J1dHRvbkVsZW1lbnQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfZm9ybSIsImlkIiwiX3RvZ2dsZUlucHV0RXJyb3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwicHJvZmlsZUVkaXRCdXR0b24iLCJlZGl0UHJvZmlsZUZvcm0iLCJhZGRDYXJkRm9ybSIsImFkZENhcmRCdXR0b24iLCJpbWFnZU1vZGFsIiwiYXZhdGFyRm9ybSIsInByb2ZpbGVJbWFnZU92ZXJsYXkiLCJwcm9maWxlRWRpdEltYWdlIiwiZm9ybVNlbGVjdG9yIiwiYXBpIiwib3B0aW9ucyIsIl91cmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2hhbmRsZVNlcnZlclJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldFdlYnBhZ2VJbmZvIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckluZm8iLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJlZGl0UHJvZmlsZUluZm8iLCJwcm9maWxlVmFsdWVzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhYm91dCIsImFkZE5ld0NhcmQiLCJjYXJkVmFsdWVzIiwiZWRpdFByb2ZpbGVJbWFnZSIsImF2YXRhckxpbmsiLCJhdmF0YXIiLCJkZWxldGVDYXJkIiwiY2FyZElEIiwiY2hhbmdlTGlrZUNhcmRTdGF0dXMiLCJsaWtlIiwiYXV0aG9yaXphdGlvbiIsIm1vZGFsUHJvZmlsZSIsInVzZXJEYXRhIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJtb2RhbENhcmQiLCJjYXJkRGF0YSIsImNhcmRMaXN0IiwibW9kYWxJbWFnZSIsIl9pbWFnZU1vZGFsVGl0bGUiLCJfaW1hZ2VNb2RhbEltYWdlIiwibW9kYWxWZXJpZnkiLCJhZGRTdWJtaXRBY3Rpb24iLCJfaGFuZGxlU3VibWl0Q2FsbGJhY2siLCJtb2RhbFByb2ZpbGVJbWFnZSIsImltYWdlTGluayIsInNldEF2YXRhciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlQmlvIiwiX3Byb2ZpbGVBdmF0YXIiLCJnZXRBdmF0YXIiLCJwcm9maWxlVmFsdWUiLCJpbml0aWFsQ2FyZHMiLCJjcmVhdGVDYXJkIiwib3BlblByb2ZpbGVJbWFnZU1vZGFsIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImNyZWF0ZVZhbGlkYXRvciIsInZhbGlkYXRvciIsInVzZXJWYWx1ZXMiLCJlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciJdLCJzb3VyY2VSb290IjoiIn0=